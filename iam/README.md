# CSV  
## iam_resources.csv  

| 列名                 | 説明                                                                                                                                   | 必須/任意                                         | 補足                                                                                                                                                              |
| :------------------- | :------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------ | :---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `ACTION`             | この行で定義されたリソースに対して実行するアクションを指定します。                                                                                 | 必須                                              | スクリプトは `"add"` (作成/更新/関連付け) または `"remove"` (削除/関連付け解除) を処理します。                                                                                           |
| `RESOURCE_TYPE`      | 操作対象となるIAMリソースの種類を指定します。                                                                                                | 必須                                              | スクリプトは `"POLICY"`, `"ROLE"`, `"USER"`, `"INSTANCE_PROFILE"` を処理します。                                                                                         |
| `RESOURCE_NAME`      | 操作対象となるIAMリソースの名前です。                                                                                                    | 必須                                              | スクリプトは、作成または削除するリソースをこの名前で識別します。ポリシーの場合は名前、ロールの場合はロール名、ユーザーの場合はユーザー名、インスタンスプロファイルの場合はインスタンスプロファイル名です。 |
| `POLICY_DOCUMENT_PATH` | IAMポリシーまたは信頼ポリシーのJSONファイルへのローカルパスを指定します。                                                                              | 条件付き必須                                      | `ACTION` が `"add"` かつ `RESOURCE_TYPE` が `"POLICY"` (ポリシー本体) または `"ROLE"` (信頼ポリシー) の場合に必須です。他の場合は無視されます。ファイルはスクリプト実行環境から参照できる必要があります。 |
| `ATTACH_TO`          | ポリシーをアタッチする対象のIAMエンティティ（ロールやユーザーの名前）、またはインスタンスプロファイルに関連付けるロールの名前を指定します。またはアタッチするポリシーの名前（カスタム管理ポリシーの名前やAWS管理ポリシーのARN）を指定します。 | 条件付き必須                                      | `ACTION` が `"add"` かつ `RESOURCE_TYPE` が `"USER"` または `"ROLE"` (ポリシーアタッチの場合) または `"INSTANCE_PROFILE"` (ロール関連付けの場合) の場合に必須です。空欄の場合はポリシーアタッチ/ロール関連付けの処理は行われず、また削除時（`remove`）は無視されます。 |
| `IS_ADD_ATTACH`      | `ATTACH_TO` で指定されたポリシーを、既存のポリシーに追加してアタッチするか (`TRUE`)、既存の全てをデタッチしてからアタッチするか (その他の値) を指定します。       | 条件付き必須                                      | `ACTION` が `"add"` かつ `RESOURCE_TYPE` が `"USER"` または `"ROLE"` で `ATTACH_TO` が指定されている場合に意味を持ちます。他の場合は無視されます。`remove` 時は無視されます。                                              |
| `TAGS`               | リソースに付与するタグを `Key=Value` 形式で指定します。複数のタグはカンマ `,` で区切ります。                                                                  | 任意                                              | `ACTION` が `"add"` かつ `RESOURCE_TYPE` が `"POLICY"`, `"ROLE"`, `"USER"`, `"INSTANCE_PROFILE"` の場合に、リソース作成時にタグ付けするために使用されます。`remove` 時は無視されます。 |
